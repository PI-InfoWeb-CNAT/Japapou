{% extends "base.html" %}
{% load static %}

{% block title %}Detalhes do Entregador{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/manager/manage_delivery_man.css' %}" />
<style>
    .btn-warning {
        background-color: #f8761e !important;
        border-color: #f8761e !important;
        color: #fff !important;
    }

    .btn-warning:hover,
    .btn-warning:focus,
    .btn-warning:active {
        background-color: #d36216 !important;
        border-color: #d36216 !important;
        color: #fff !important;
        box-shadow: none !important;
    }

    .btn-secondary {
        background-color: #f8761e !important;
        border-color: #f8761e !important;
        color: #fff !important;
    }

    .btn-secondary:hover,
    .btn-secondary:focus,
    .btn-secondary:active {
        background-color: #d36216 !important;
        border-color: #d36216 !important;
        color: #fff !important;
        box-shadow: none !important;
    }

    .btn:focus,
    .btn:active {
        outline: none !important;
        box-shadow: none !important;
    }


    .details-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        color: #ffffff; 
    }


    .details-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
    }

    .details-header h1 {
        font-size: 28px;
        display: flex;
        align-items: center;
        gap: 10px;
    }


    .details-header .btn-group a {
        margin-left: 10px;
    }


    .details-photo {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 20px;
    }

    .details-photo img,
    .details-photo .placeholder {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        background-color: #334155;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 40px;
        color: #fff;
    }

    .details-photo h5 {
        margin-top: 15px;
    }

    .details-photo p {
        color: #94a3b8;
    }


    .details-section h5 {
        font-size: 20px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        border-bottom: 1px solid #334155;
        padding-bottom: 5px;
        margin-bottom: 30px;
        margin-top: 30px;
    }

    .details-row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 15px; 
    }

    .details-row .details-item {
        flex: 1 1 45%;
    }

    .details-item strong {
        display: block;
        margin-bottom: 5px;
        color: #f8761e; 
    }

    .details-item p {
        margin: 0;
        color: #ffffff;
    }

    @media (max-width: 768px) {
        .details-row .details-item {
            flex: 1 1 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="details-container">
        <div class="details-header">
            <h1><i class="fas fa-motorcycle"></i> Detalhes do Entregador</h1>
            <div class="btn-group">
                <a href="{% url 'manager_delivery_man_update' delivery_man.id %}" class="btn btn-warning">
                    <i class="fas fa-edit me-1"></i>Editar
                </a>
                <a href="{% url 'manager_delivery_man' %}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left me-1"></i>Voltar
                </a>
            </div>
        </div>

        <div class="details-photo">
            {% if delivery_man.foto %}
                <img src="{{ delivery_man.foto.url }}" alt="{{ delivery_man.username }}">
            {% else %}
                <div class="placeholder">
                    <i class="fas fa-user"></i>
                </div>
            {% endif %}
            <h5>{{ delivery_man.first_name }} {{ delivery_man.last_name }}</h5>
            <p>@{{ delivery_man.username }}</p>
        </div>

        <div class="details-section">
            <h5><i class="fas fa-user"></i> Informações Pessoais</h5>
            <div class="details-row">
                <div class="details-item">
                    <strong>Email:</strong>
                    <p>{{ delivery_man.email }}</p>
                </div>
                <div class="details-item">
                    <strong>Telefone:</strong>
                    <p>{{ delivery_man.telefone }}</p>
                </div>
                <div class="details-item">
                    <strong>CPF:</strong>
                    <p>{{ delivery_man.cpf }}</p>
                </div>
                <div class="details-item">
                    <strong>Data Nascimento:</strong>
                    <p>{{ delivery_man.data_nascimento|date:"d/m/Y" }}</p>
                </div>
                <div class="details-item" style="flex: 1 1 100%;">
                    <strong>Endereço:</strong>
                    <p>{{ delivery_man.endereco }}</p>
                </div>
            </div>
        </div>

        <div class="details-section">
            <h5><i class="fas fa-motorcycle"></i> Informações da Moto</h5>
            <div class="details-row">
                <div class="details-item">
                    <strong>CNH:</strong>
                    <p>{{ delivery_man.cnh }}</p>
                </div>
                <div class="details-item">
                    <strong>Modelo:</strong>
                    <p>{{ delivery_man.modelo_moto }}</p>
                </div>
                <div class="details-item">
                    <strong>Cor:</strong>
                    <p>{{ delivery_man.cor_moto }}</p>
                </div>
                <div class="details-item">
                    <strong>Placa:</strong>
                    <p>{{ delivery_man.placa_moto }}</p>
                </div>
            </div>
        </div>

        <div class="details-section">
            <h5><i class="fas fa-info-circle"></i> Informações da Conta</h5>
            <div class="details-row">
                <div class="details-item">
                    <strong>Data Cadastro:</strong>
                    <p>{{ delivery_man.date_joined|date:"d/m/Y H:i" }}</p>
                </div>
                <div class="details-item">
                    <strong>Último Login:</strong>
                    <p>
                        {% if delivery_man.last_login %}
                            {{ delivery_man.last_login|date:"d/m/Y H:i" }}
                        {% else %}
                            Nunca logou
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

